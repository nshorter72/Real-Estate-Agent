import{c as ue}from"./_commonjs-dynamic-modules-TDtrdbi3.js";function fe(r,n){for(var a=0;a<n.length;a++){const s=n[a];if(typeof s!="string"&&!Array.isArray(s)){for(const h in s)if(h!=="default"&&!(h in r)){const g=Object.getOwnPropertyDescriptor(s,h);g&&Object.defineProperty(r,h,g.get?g:{enumerable:!0,get:()=>s[h]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var de={exports:{}};(function(r){var n=function(a){var s=Object.prototype,h=s.hasOwnProperty,g=Object.defineProperty||function(t,e,o){t[e]=o.value},p,w=typeof Symbol=="function"?Symbol:{},k=w.iterator||"@@iterator",T=w.asyncIterator||"@@asyncIterator",N=w.toStringTag||"@@toStringTag";function f(t,e,o){return Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch{f=function(e,o,c){return e[o]=c}}function m(t,e,o,c){var i=e&&e.prototype instanceof z?e:z,d=Object.create(i.prototype),E=new L(c||[]);return g(d,"_invoke",{value:Z(t,o,E)}),d}a.wrap=m;function I(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(c){return{type:"throw",arg:c}}}var y="suspendedStart",G="suspendedYield",P="executing",j="completed",A={};function z(){}function U(){}function $(){}var K={};f(K,k,function(){return this});var H=Object.getPrototypeOf,D=H&&H(H(b([])));D&&D!==s&&h.call(D,k)&&(K=D);var M=$.prototype=z.prototype=Object.create(K);U.prototype=$,g(M,"constructor",{value:$,configurable:!0}),g($,"constructor",{value:U,configurable:!0}),U.displayName=f($,N,"GeneratorFunction");function J(t){["next","throw","return"].forEach(function(e){f(t,e,function(o){return this._invoke(e,o)})})}a.isGeneratorFunction=function(t){var e=typeof t=="function"&&t.constructor;return e?e===U||(e.displayName||e.name)==="GeneratorFunction":!1},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,$):(t.__proto__=$,f(t,N,"GeneratorFunction")),t.prototype=Object.create(M),t},a.awrap=function(t){return{__await:t}};function F(t,e){function o(d,E,S,_){var O=I(t[d],t,E);if(O.type==="throw")_(O.arg);else{var q=O.arg,Y=q.value;return Y&&typeof Y=="object"&&h.call(Y,"__await")?e.resolve(Y.__await).then(function(C){o("next",C,S,_)},function(C){o("throw",C,S,_)}):e.resolve(Y).then(function(C){q.value=C,S(q)},function(C){return o("throw",C,S,_)})}}var c;function i(d,E){function S(){return new e(function(_,O){o(d,E,_,O)})}return c=c?c.then(S,S):S()}g(this,"_invoke",{value:i})}J(F.prototype),f(F.prototype,T,function(){return this}),a.AsyncIterator=F,a.async=function(t,e,o,c,i){i===void 0&&(i=Promise);var d=new F(m(t,e,o,c),i);return a.isGeneratorFunction(e)?d:d.next().then(function(E){return E.done?E.value:d.next()})};function Z(t,e,o){var c=y;return function(d,E){if(c===P)throw new Error("Generator is already running");if(c===j){if(d==="throw")throw E;return W()}for(o.method=d,o.arg=E;;){var S=o.delegate;if(S){var _=l(S,o);if(_){if(_===A)continue;return _}}if(o.method==="next")o.sent=o._sent=o.arg;else if(o.method==="throw"){if(c===y)throw c=j,o.arg;o.dispatchException(o.arg)}else o.method==="return"&&o.abrupt("return",o.arg);c=P;var O=I(t,e,o);if(O.type==="normal"){if(c=o.done?j:G,O.arg===A)continue;return{value:O.arg,done:o.done}}else O.type==="throw"&&(c=j,o.method="throw",o.arg=O.arg)}}}function l(t,e){var o=e.method,c=t.iterator[o];if(c===p)return e.delegate=null,o==="throw"&&t.iterator.return&&(e.method="return",e.arg=p,l(t,e),e.method==="throw")||o!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),A;var i=I(c,t.iterator,e.arg);if(i.type==="throw")return e.method="throw",e.arg=i.arg,e.delegate=null,A;var d=i.arg;if(!d)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A;if(d.done)e[t.resultName]=d.value,e.next=t.nextLoc,e.method!=="return"&&(e.method="next",e.arg=p);else return d;return e.delegate=null,A}J(M),f(M,N,"Generator"),f(M,k,function(){return this}),f(M,"toString",function(){return"[object Generator]"});function u(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function v(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(u,this),this.reset(!0)}a.keys=function(t){var e=Object(t),o=[];for(var c in e)o.push(c);return o.reverse(),function i(){for(;o.length;){var d=o.pop();if(d in e)return i.value=d,i.done=!1,i}return i.done=!0,i}};function b(t){if(t){var e=t[k];if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length)){var o=-1,c=function i(){for(;++o<t.length;)if(h.call(t,o))return i.value=t[o],i.done=!1,i;return i.value=p,i.done=!0,i};return c.next=c}}return{next:W}}a.values=b;function W(){return{value:p,done:!0}}return L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(v),!t)for(var e in this)e.charAt(0)==="t"&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=p)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(_,O){return d.type="throw",d.arg=t,e.next=_,O&&(e.method="next",e.arg=p),!!O}for(var c=this.tryEntries.length-1;c>=0;--c){var i=this.tryEntries[c],d=i.completion;if(i.tryLoc==="root")return o("end");if(i.tryLoc<=this.prev){var E=h.call(i,"catchLoc"),S=h.call(i,"finallyLoc");if(E&&S){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(E){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else if(S){if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&h.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var i=c;break}}i&&(t==="break"||t==="continue")&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var d=i?i.completion:{};return d.type=t,d.arg=e,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(d)},complete:function(t,e){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),v(o),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var c=o.completion;if(c.type==="throw"){var i=c.arg;v(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:b(t),resultName:e,nextLoc:o},this.method==="next"&&(this.arg=p),A}},a}(r.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}})(de);var x=(r,n)=>`${r}-${n}-${Math.random().toString(16).slice(3,8)}`;const he=x;let te=0;var ie=({id:r,action:n,payload:a={}})=>{let s=r;return typeof s>"u"&&(s=he("Job",te),te+=1),{id:s,action:n,payload:a}},B={};let ee=!1;B.logging=ee;B.setLogging=r=>{ee=r};B.log=(...r)=>ee?console.log.apply(void 0,r):null;const pe=ie,{log:V}=B,ve=x;let re=0;var ge=()=>{const r=ve("Scheduler",re),n={},a={};let s=[];re+=1;const h=()=>s.length,g=()=>Object.keys(n).length,p=()=>{if(s.length!==0){const f=Object.keys(n);for(let m=0;m<f.length;m+=1)if(typeof a[f[m]]>"u"){s[0](n[f[m]]);break}}},w=(f,m)=>new Promise((I,y)=>{const G=pe({action:f,payload:m});s.push(async P=>{s.shift(),a[P.id]=G;try{I(await P[f].apply(void 0,[...m,G.id]))}catch(j){y(j)}finally{delete a[P.id],p()}}),V(`[${r}]: Add ${G.id} to JobQueue`),V(`[${r}]: JobQueue length=${s.length}`),p()});return{addWorker:f=>(n[f.id]=f,V(`[${r}]: Add ${f.id}`),V(`[${r}]: Number of workers=${g()}`),p(),f.id),addJob:async(f,...m)=>{if(g()===0)throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return w(f,m)},terminate:async()=>{Object.keys(n).forEach(async f=>{await n[f].terminate()}),s=[]},getQueueLen:h,getNumWorkers:g}};function ye(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var we=ye;const me=we;var Le=r=>{const n={};return typeof WorkerGlobalScope<"u"?n.type="webworker":me()?n.type="electron":typeof document=="object"?n.type="browser":typeof process=="object"&&typeof ue=="function"&&(n.type="node"),typeof r>"u"?n:n[r]};const be=Le("type")==="browser",Ee=be?r=>new URL(r,window.location.href).href:r=>r;var Se=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(a=>{r[a]&&(n[a]=Ee(n[a]))}),n},Oe=r=>{const n=[],a=[],s=[],h=[],g=[];return r.blocks&&r.blocks.forEach(p=>{p.paragraphs.forEach(w=>{w.lines.forEach(k=>{k.words.forEach(T=>{T.symbols.forEach(N=>{g.push({...N,page:r,block:p,paragraph:w,line:k,word:T})}),h.push({...T,page:r,block:p,paragraph:w,line:k})}),s.push({...k,page:r,block:p,paragraph:w})}),a.push({...w,page:r,block:p})}),n.push({...p,page:r})}),{...r,blocks:n,paragraphs:a,lines:s,words:h,symbols:g}},se={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ke=se;var Ae={defaultOEM:ke.DEFAULT};const _e="4.1.4",Re={version:_e};var $e={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}},Te={};const Ne=r=>new URL(r,window.location.href).href,{version:Ie}=Re,Pe=$e;var je={...Pe,workerPath:typeof process<"u"&&Te.TESS_ENV==="development"?Ne(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://cdn.jsdelivr.net/npm/tesseract.js@v${Ie}/dist/worker.min.js`,corePath:null},Me=({workerPath:r,workerBlobURL:n})=>{let a;if(Blob&&URL&&n){const s=new Blob([`importScripts("${r}");`],{type:"application/javascript"});a=new Worker(URL.createObjectURL(s))}else a=new Worker(r);return a},Ge=r=>{r.terminate()},Ce=(r,n)=>{r.onmessage=({data:a})=>{n(a)}},Ue=async(r,n)=>{r.postMessage(n)};const Q=r=>new Promise((n,a)=>{const s=new FileReader;s.onload=()=>{n(s.result)},s.onerror=({target:{error:{code:h}}})=>{a(Error(`File could not be read! Code=${h}`))},s.readAsArrayBuffer(r)}),X=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(a=>a.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await X(r.src)),r.tagName==="VIDEO"&&(n=await X(r.poster)),r.tagName==="CANVAS"&&await new Promise(a=>{r.toBlob(async s=>{n=await Q(s),a()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const a=await r.convertToBlob();n=await Q(a)}else(r instanceof File||r instanceof Blob)&&(n=await Q(r));return new Uint8Array(n)};var De=X;const Fe=je,We=Me,Be=Ge,ze=Ce,Ke=Ue,He=De;var Ye={defaultOptions:Fe,spawnWorker:We,terminateWorker:Be,onMessage:ze,send:Ke,loadImage:He};const Je=Se,Ve=Oe,R=ie,{log:oe}=B,Ze=x,{defaultOEM:qe}=Ae,{defaultOptions:Qe,spawnWorker:Xe,terminateWorker:xe,onMessage:et,loadImage:ne,send:tt}=Ye;let ae=0;var ce=async(r={})=>{const n=Ze("Worker",ae),{logger:a,errorHandler:s,...h}=Je({...Qe,...r}),g={},p={};let w,k;const T=new Promise((l,u)=>{k=l,w=u}),N=l=>{w(l.message)};let f=Xe(h);f.onerror=N,ae+=1;const m=(l,u)=>{g[l]=u},I=(l,u)=>{p[l]=u},y=({id:l,action:u,payload:v})=>new Promise((L,b)=>{oe(`[${n}]: Start ${l}, action=${u}`),m(u,L),I(u,b),tt(f,{workerId:n,jobId:l,action:u,payload:v})}),G=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),P=l=>y(R({id:l,action:"load",payload:{options:h}})),j=(l,u,v)=>y(R({id:v,action:"FS",payload:{method:"writeFile",args:[l,u]}})),A=(l,u)=>y(R({id:u,action:"FS",payload:{method:"readFile",args:[l,{encoding:"utf8"}]}})),z=(l,u)=>y(R({id:u,action:"FS",payload:{method:"unlink",args:[l]}})),U=(l,u,v)=>y(R({id:v,action:"FS",payload:{method:l,args:u}})),$=(l="eng",u)=>y(R({id:u,action:"loadLanguage",payload:{langs:l,options:h}})),K=(l="eng",u=qe,v,L)=>y(R({id:L,action:"initialize",payload:{langs:l,oem:u,config:v}})),H=(l={},u)=>y(R({id:u,action:"setParameters",payload:{params:l}})),D=async(l,u={},v={blocks:!0,text:!0,hocr:!0,tsv:!0},L)=>y(R({id:L,action:"recognize",payload:{image:await ne(l),options:u,output:v}})),M=(l="Tesseract OCR Result",u=!1,v)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),y(R({id:v,action:"getPDF",payload:{title:l,textonly:u}}))),J=async(l,u)=>y(R({id:u,action:"detect",payload:{image:await ne(l)}})),F=async()=>(f!==null&&(xe(f),f=null),Promise.resolve());et(f,({workerId:l,jobId:u,status:v,action:L,data:b})=>{if(v==="resolve"){oe(`[${l}]: Complete ${u}`);let W=b;L==="recognize"?W=Ve(b):L==="getPDF"&&(W=Array.from({...b,length:Object.keys(b).length})),g[L]({jobId:u,data:W})}else if(v==="reject")if(p[L](b),L==="load"&&w(b),s)s(b);else throw Error(b);else v==="progress"&&a({...b,userJobId:u})});const Z={id:n,worker:f,setResolve:m,setReject:I,load:G,writeText:j,readText:A,removeFile:z,FS:U,loadLanguage:$,initialize:K,setParameters:H,recognize:D,getPDF:M,detect:J,terminate:F};return P().then(()=>k(Z)).catch(()=>{}),T};const le=ce,rt=async(r,n,a)=>{const s=await le(a);return await s.loadLanguage(n),await s.initialize(n),s.recognize(r).finally(async()=>{await s.terminate()})},ot=async(r,n)=>{const a=await le(n);return await a.loadLanguage("osd"),await a.initialize("osd"),a.detect(r).finally(async()=>{await a.terminate()})};var nt={recognize:rt,detect:ot},at={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},it={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const st=ge,ct=ce,lt=nt,ut=at,ft=se,dt=it,{setLogging:ht}=B;var pt={languages:ut,OEM:ft,PSM:dt,createScheduler:st,createWorker:ct,setLogging:ht,...lt};const gt=fe({__proto__:null},[pt]);export{gt as i};
